{
  "hash": "0c72d9804db88f1edc70530059d19c43",
  "result": {
    "markdown": "# Assessing the fit of the Rasch model\n\n## How does Rasch differ from regression models?\n<https://dexter-psychometrics.github.io/dexter/articles/blog/2018-02-25-item-total-regressions-in-dexter>\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrm(list=ls())\nlibrary(tidyverse)\nlibrary(dexter)\n#Â load in the dataset\nresponses <- read_csv('data/responses.csv')\nkeys <- read_csv('data/key.csv')\n# Create the rules\nrules <- keys_to_rules(keys, include_NA_rule = TRUE)\ndb <- start_new_project(rules, db_name = \":memory:\", person_properties=list(gender=\"unknown\"))\n```\n:::\n\n\n\n## Fitting the Rasch model\nLook at Item Characteristic Plots for all items. There are three item-test regressions on the plot: the observed one, shown as pink dots; the interaction model, shown with a thick gray line; and the ENORM model, shown with a thin black line. (ENORM=RASCH for dichotomous models)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nadd_booklet(db, responses, \"y7\") \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nno column `person_id` provided, automatically generating unique person id's\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n$items\n [1] \"Q1\"  \"Q2\"  \"Q3\"  \"Q4\"  \"Q5\"  \"Q6\"  \"Q7\"  \"Q8\"  \"Q9\"  \"Q10\" \"Q11\" \"Q12\"\n[13] \"Q13\" \"Q14\" \"Q15\" \"Q16\" \"Q17\" \"Q18\" \"Q19\" \"Q20\"\n\n$person_properties\n[1] \"gender\"\n\n$columns_ignored\n [1] \"id\"        \"dob\"       \"yg\"        \"missing\"   \"Q1_score\"  \"Q2_score\" \n [7] \"Q3_score\"  \"Q4_score\"  \"Q5_score\"  \"Q6_score\"  \"Q7_score\"  \"Q8_score\" \n[13] \"Q9_score\"  \"Q10_score\" \"Q11_score\" \"Q12_score\" \"Q13_score\" \"Q14_score\"\n[19] \"Q15_score\" \"Q16_score\" \"Q17_score\" \"Q18_score\" \"Q19_score\" \"Q20_score\"\n```\n:::\n\n```{.r .cell-code}\nget_booklets(db)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  booklet_id n_items n_persons booklet_max_score\n1         y7      20      3061                20\n```\n:::\n\n```{.r .cell-code}\nm = fit_inter(db, booklet_id=='y7')\n\nn_items <- nrow(keys)\nfor(i in 1:n_items){\n  plot(m, keys$item_id[i], show.observed=TRUE)\n}\n```\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-1.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-2.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-3.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-4.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-5.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-6.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-7.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-8.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-9.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-10.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-11.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-12.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-13.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-14.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-15.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-16.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-17.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-18.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-19.pdf){fig-pos='H'}\n:::\n\n::: {.cell-output-display}\n![](rasch-regression_files/figure-pdf/unnamed-chunk-2-20.pdf){fig-pos='H'}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntt = tia_tables(db)\nknitr::kable(tt$items)\n```\n\n::: {.cell-output-display}\n|booklet_id |item_id | mean_score|  sd_score| max_score|    pvalue|       rit|       rir| n_persons|\n|:----------|:-------|----------:|---------:|---------:|---------:|---------:|---------:|---------:|\n|y7         |Q1      |  0.9460960| 0.2258281|         1| 0.9460960| 0.3334998| 0.2822894|      3061|\n|y7         |Q10     |  0.7817707| 0.4130439|         1| 0.7817707| 0.4890928| 0.4051286|      3061|\n|y7         |Q11     |  0.8160732| 0.3874245|         1| 0.8160732| 0.4369315| 0.3542171|      3061|\n|y7         |Q12     |  0.5870631| 0.4923617|         1| 0.5870631| 0.5774198| 0.4869096|      3061|\n|y7         |Q13     |  0.6644887| 0.4721689|         1| 0.6644887| 0.4167201| 0.3128742|      3061|\n|y7         |Q14     |  0.7170859| 0.4504150|         1| 0.7170859| 0.5027417| 0.4120081|      3061|\n|y7         |Q15     |  0.1754329| 0.3803369|         1| 0.1754329| 0.4521971| 0.3722567|      3061|\n|y7         |Q16     |  0.2969618| 0.4569196|         1| 0.2969618| 0.5363749| 0.4479760|      3061|\n|y7         |Q17     |  0.5508004| 0.4974126|         1| 0.5508004| 0.4103008| 0.2999650|      3061|\n|y7         |Q18     |  0.6229990| 0.4846352|         1| 0.6229990| 0.3456235| 0.2334171|      3061|\n|y7         |Q19     |  0.2606991| 0.4390160|         1| 0.2606991| 0.5611054| 0.4793179|      3061|\n|y7         |Q2      |  0.9235544| 0.2657098|         1| 0.9235544| 0.3706761| 0.3117073|      3061|\n|y7         |Q20     |  0.5485136| 0.4976409|         1| 0.5485136| 0.3256473| 0.2089781|      3061|\n|y7         |Q3      |  0.6602418| 0.4736270|         1| 0.6602418| 0.5033116| 0.4075765|      3061|\n|y7         |Q4      |  0.9340085| 0.2482672|         1| 0.9340085| 0.3441510| 0.2881099|      3061|\n|y7         |Q5      |  0.8961124| 0.3051147|         1| 0.8961124| 0.3780087| 0.3103319|      3061|\n|y7         |Q6      |  0.3868017| 0.4870176|         1| 0.3868017| 0.6149106| 0.5308310|      3061|\n|y7         |Q7      |  0.3074159| 0.4614232|         1| 0.3074159| 0.5552584| 0.4681820|      3061|\n|y7         |Q8      |  0.3299575| 0.4701974|         1| 0.3299575| 0.6029375| 0.5203720|      3061|\n|y7         |Q9      |  0.5890232| 0.4920110|         1| 0.5890232| 0.6062016| 0.5198674|      3061|\n:::\n:::\n\n\n\n## Analysis\n### Guessing\nThe left hand curtain gives us an idea of guessing. By default, they are drawn at the 5th and the 95th percentile of the observed test scores, highlighting the central 90% of the data. The left curtain highlights the likely item score for the pupils at the 95th percentile. From examination of the ICCs, which items are prone to guessing?\n\n### Model fit\nWhich items seem to fit the Rasch model less well? Which restriction of the Rasch model do these items highlight? How can the fit of the model be improved?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclose_project(db)\n```\n:::",
    "supporting": [
      "rasch-regression_files/figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}